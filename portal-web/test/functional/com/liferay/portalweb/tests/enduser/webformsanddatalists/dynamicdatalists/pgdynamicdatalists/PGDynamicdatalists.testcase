@component-name = "portal-web-forms-and-data-lists"
definition {
	property portal.release = "true";
	property portal.upstream = "true";
	property testray.main.component.name = "Dynamic Data Lists";
	var pageName = "Dynamic Data Lists Display Page";
	var portletName = "Dynamic Data Lists Display";

	setUp {
		TestCase.setUpPortalInstance();

		User.firstLoginPG();

		ProductMenu.gotoPortlet(
			category = "Build",
			panel = "Site Administration",
			portlet = "Pages"
		);

		SitePages.addPublicPage(pageName = "Dynamic Data Lists Display Page");

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		Portlet.addPG(portletName = "Dynamic Data Lists Display");
	}

	tearDown {
		var testPortalInstance = PropsUtil.get("test.portal.instance");

		if ("${testPortalInstance}" == "true") {
			PortalInstances.tearDownCP();
		}
		else {
			User.firstLoginPG();

			DDLTemplate.tearDownTemplateCP();

			DDLList.tearDownCP();

			DDLDataDefinition.tearDownCP();

			Page.tearDownCP();
		}
	}

	@priority = "3"
	test AddFormTemplate {
		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.addViaDDLDisplayPG();

		DDLDataDefinition.addViaDDLDisplayPG();

		DynamicDataMapping.addField(
			field = "Boolean",
			fieldFieldLabel = "Boolean",
			fieldName = "Boolean"
		);

		DynamicDataMapping.addField(
			field = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		DDLDataDefinition.saveViaDDLDisplayPG();

		DDLDataDefinition.selectViaDDLDisplayPG();

		DDLList.saveViaDDLDisplayPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLTemplate.addFormTemplateViaDDLDisplayPG(
			ddlFormTemplateName = "Form Template"
		);

		DynamicDataMapping.viewCannotAddField(field = "Boolean");

		DynamicDataMapping.viewCannotAddField(field = "Text");

		DynamicDataMapping.deleteField(fieldFieldLabel = "Boolean");

		DynamicDataMapping.viewCanAddField(field = "Boolean");

		DynamicDataMapping.addFieldFormTemplateSpecific(field = "Separator");

		DynamicDataMapping.addFieldFormTemplateSpecific(field = "Paragraph");

		DDLTemplate.saveFormTemplateViaDDLDisplayPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.selectViaDDLDisplayPG();

		DDLTemplate.selectFormTemplateViaDDLDisplayPG(
			ddlFormTemplateName = "Form Template"
		);

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG();

		DDLRecord.viewFieldFormTemplateSpecific(field = "Separator");

		DDLRecord.viewFieldFormTemplateSpecific(
			field = "Paragraph",
			fieldText = "Paragraph"
		);

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		PortletEntry.publish();
	}

	@priority = "4"
	test AddList {
		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(ddlDataDefinitionName = "Data Definition Name");

		DynamicDataMapping.addField(
			field = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		DDLDataDefinition.save();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.addViaDDLDisplayPG(ddlListName = "List Name");

		DDLDataDefinition.selectViaDDLDisplayPG(
			ddlDataDefinitionName = "Data Definition Name"
		);

		DDLList.saveViaDDLDisplayPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.viewViaDDLDisplayPG(ddlListName = "List Name");

		Portlet.viewPortletOptionsMenulist();
	}

	@priority = "5"
	test AddListRecord {
		var ddlDataDefinitionName = "Data Definition Name";
		var ddlListName = "List Name";
		var ddlRecordFieldData = "Text";
		var field = "Text";
		var fieldFieldLabel = "Text";
		var fieldName = "Text";

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(ddlDataDefinitionName = "Data Definition Name");

		DynamicDataMapping.addField(
			field = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		DDLDataDefinition.save();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.addViaDDLDisplayPG(ddlListName = "List Name");

		DDLDataDefinition.selectViaDDLDisplayPG(
			ddlDataDefinitionName = "Data Definition Name"
		);

		DDLList.saveViaDDLDisplayPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG(
			ddlDataDefinitionName = "Data Definition Name",
			ddlListName = "List Name"
		);

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		PortletEntry.publish();

		DDLRecord.viewViaDDLDisplayPG(
			ddlListName = "List Name",
			ddlRecordFieldData = "Text",
			field = "Text",
			fieldFieldLabel = "Text"
		);
	}

	@description = "This is a use case for LPS-58893."
	@priority = "3"
	test AddListWithDocumentsAndMediaField {
		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(ddlDataDefinitionName = "Data Definition");

		DynamicDataMapping.addField(
			field = "Documents and Media",
			fieldFieldLabel = "Documents and Media",
			fieldName = "DocumentsAndMedia"
		);

		DDLDataDefinition.save();

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLList.addCP(ddlListName = "DDL List");

		DDLDataDefinition.selectCP(ddlDataDefinitionName = "Data Definition");

		DDLDataDefinition.save();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.selectViaDDLDisplayPG(ddlListName = "DDL List");

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG(
			ddlDataDefinitionName = "Data Definition",
			ddlListName = "DDL List"
		);

		DDLRecord.populateFieldDocumentsAndMediaChooseFromDocumentLibrary(
			document = "Document_1.png",
			fieldFieldLabel = "Documents and Media",
			fieldName = "DocumentsAndMedia"
		);

		PortletEntry.publish();

		DDLRecord.viewViaDDLDisplayPG(
			ddlListName = "DDL List",
			ddlRecordFieldData = "Document_1.png",
			field = "Documents and Media",
			fieldFieldLabel = "Documents and Media"
		);
	}

	@description = "This is a use case for LPS-59565."
	@priority = "3"
	test AddRecordNested {
		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(ddlDataDefinitionName = "DDL Nested Definition");

		DynamicDataMapping.addField(
			field = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		DynamicDataMapping.addFieldNested(
			field = "Integer",
			fieldFieldLabel = "Integer",
			fieldName = "Integer"
		);

		DDLDataDefinition.save();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.addViaDDLDisplayPG(ddlListName = "DDL List");

		DDLDataDefinition.selectViaDDLDisplayPG(
			ddlDataDefinitionName = "DDL Nested Definition"
		);

		DDLList.saveViaDDLDisplayPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG(
			ddlDataDefinitionName = "DDL Nested Definition",
			ddlListName = "DDL List"
		);

		DDLRecord.viewNestedFields(
			nestedChildFieldFieldName = "Integer",
			nestedParentFieldFieldName = "Text"
		);

		DDLRecord.populateFieldText(ddlRecordFieldData = "Text", fieldName = "Text");

		DDLRecord.populateFieldInteger(
			ddlRecordFieldData = "123",
			fieldName = "Integer"
		);

		PortletEntry.publish();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.viewViaDDLDisplayPG(
			ddlListName = "DDL List",
			ddlRecordFieldData = "Text",
			ddlRecordNestedFieldData = "123",
			fieldFieldLabel = "Text",
			nestedFieldFieldLabel = "Integer"
		);
	}

	@priority = "3"
	test AddVelocityDisplayTemplate {
		property custom.properties = "freemarker.engine.restricted.variables=${line.separator}restricted.variables=";

		var ddlDisplayTemplateScript = '''
				#set ($records = $ddlDisplayTemplateHelper.getRecords($reserved_record_set_id))${line.separator}${line.separator}

				#if (!$records.isEmpty())${line.separator}
					#foreach ($cur_record in $records)${line.separator}

						<div class="ddl-record">$ddlDisplayTemplateHelper.renderRecordFieldValue($cur_record.getDDMFormFieldValues("Name").get(0), $locale)</div>${line.separator}

					#end${line.separator}
				#end${line.separator}
			''';

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.addViaDDLDisplayPG();

		DDLDataDefinition.addViaDDLDisplayPG();

		DynamicDataMapping.addField(
			field = "Text",
			fieldFieldLabel = "Name",
			fieldName = "Name"
		);

		DDLDataDefinition.saveViaDDLDisplayPG();

		DDLDataDefinition.selectViaDDLDisplayPG();

		DDLList.saveViaDDLDisplayPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG();

		Pause(locator1 = "3000");

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "Name1",
			fieldFieldLabel = "Name",
			fieldName = "Name"
		);

		PortletEntry.publish();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLTemplate.addDisplayTemplateTemplateViaDDLDisplayPG(
			ddlDisplayTemplateLanguage = "Velocity (.vm)",
			ddlDisplayTemplateName = "Velocity Template",
			ddlDisplayTemplateScript = "${ddlDisplayTemplateScript}"
		);

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.selectViaDDLDisplayPG(ddlListName = "List Name");

		DDLTemplate.selectDisplayTemplateViaDDLDisplayPG(
			ddlDisplayTemplateName = "Velocity Template"
		);

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		AssertTextPresent(
			locator1 = "//div[@class='portlet-body']/form",
			value1 = "Name1"
		);
	}

	@priority = "4"
	test ConfigureEditableListPG {
		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(ddlDataDefinitionName = "Data Definition Name");

		DynamicDataMapping.addField(
			field = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		DDLDataDefinition.save();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.addViaDDLDisplayPG(ddlListName = "List Name");

		DDLDataDefinition.selectViaDDLDisplayPG(
			ddlDataDefinitionName = "Data Definition Name"
		);

		DDLList.saveViaDDLDisplayPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLDisplayPortlet.configureListViewPG(
			configureCheckBoxName = "TEMPLATES_EDITABLE_CHECKBOX",
			configureChecked = "false",
			ddlListName = "List Name"
		);

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		AssertElementNotPresent(locator1 = "DDL#TOOLBAR_ADD");
	}

	@priority = "5"
	test ConfigureSpreadsheetListPG {
		property portal.acceptance = "true";

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(ddlDataDefinitionName = "Data Definition Name");

		DynamicDataMapping.addField(
			field = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		DDLDataDefinition.save();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.addViaDDLDisplayPG(ddlListName = "List Name");

		DDLDataDefinition.selectViaDDLDisplayPG(
			ddlDataDefinitionName = "Data Definition Name"
		);

		DDLList.saveViaDDLDisplayPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLDisplayPortlet.configureListViewPG(
			configureCheckBoxName = "TEMPLATES_SPREADSHEET_VIEW_CHECKBOX",
			configureChecked = "true",
			ddlListName = "List Name"
		);

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		AssertElementPresent(locator1 = "DDLSpreadsheet#SPREADSHEET_CONTAINER");
	}

	@priority = "4"
	test DeleteListRecord {
		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(ddlDataDefinitionName = "Data Definition Name");

		DynamicDataMapping.addField(
			field = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		DDLDataDefinition.save();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.addViaDDLDisplayPG(ddlListName = "List Name");

		DDLDataDefinition.selectViaDDLDisplayPG(
			ddlDataDefinitionName = "Data Definition Name"
		);

		DDLList.saveViaDDLDisplayPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG(
			ddlDataDefinitionName = "Data Definition Name",
			ddlListName = "List Name"
		);

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		PortletEntry.publish();

		DDLRecord.deleteViaDDLDisplayPG();
	}

	@description = "This is a use case for LPS-58319."
	@priority = "2"
	test EditFormTemplateLabelAndViewRecord {
		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(ddlDataDefinitionName = "Data Definition");

		DynamicDataMapping.addField(
			field = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		DDLDataDefinition.save();

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLTemplate.addFormTemplateCP(
			ddlDataDefinitionName = "Data Definition",
			ddlFormTemplateName = "DDL Form Template"
		);

		DynamicDataMapping.editFieldLabel(
			field = "Text",
			fieldFieldLabel = "Text Label Edit",
			fieldName = "Text"
		);

		DDLDataDefinition.save();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLList.addCP(ddlListName = "DDL List");

		DDLDataDefinition.selectCP(ddlDataDefinitionName = "Data Definition");

		DDLDataDefinition.save();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.selectViaDDLDisplayPG(ddlListName = "DDL List");

		DDLTemplate.selectFormTemplateViaDDLDisplayPG(
			ddlFormTemplateName = "DDL Form Template"
		);

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG(ddlDataDefinitionName = "Data Definition");

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "Text",
			fieldFieldLabel = "Text Label Edit",
			fieldName = "Text"
		);

		PortletEntry.publish();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.viewViaDDLDisplayPG(
			ddlListName = "DDL List",
			ddlRecordFieldData = "Text",
			fieldFieldLabel = "Text Label Edit"
		);
	}

	@priority = "4"
	test EditList {
		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(ddlDataDefinitionName = "Data Definition Name");

		DynamicDataMapping.addField(
			field = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		DDLDataDefinition.save();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.addViaDDLDisplayPG(
			ddlListDescription = "List Description",
			ddlListName = "List Name"
		);

		DDLDataDefinition.selectViaDDLDisplayPG(
			ddlDataDefinitionName = "Data Definition Name"
		);

		DDLList.saveViaDDLDisplayPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.editViaDDLDisplayPG(
			ddlListDescriptionEdit = "List Description Edit",
			ddlListName = "List Name",
			ddlListNameEdit = "List Name Edit"
		);

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.viewViaDDLDisplayPG(ddlListName = "List Name Edit");
	}

	@priority = "4"
	test EditListRecord {
		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(ddlDataDefinitionName = "Data Definition Name");

		DynamicDataMapping.addField(
			field = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		DDLDataDefinition.save();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.addViaDDLDisplayPG(ddlListName = "List Name");

		DDLDataDefinition.selectViaDDLDisplayPG(
			ddlDataDefinitionName = "Data Definition Name"
		);

		DDLList.saveViaDDLDisplayPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG(
			ddlDataDefinitionName = "Data Definition Name",
			ddlListName = "List Name"
		);

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		PortletEntry.publish();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.editPG(ddlListName = "List Name");

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "Text Edit",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		PortletEntry.publish();

		DDLRecord.viewViaDDLDisplayPG(
			ddlListName = "List Name",
			ddlRecordFieldData = "Text Edit",
			field = "Text",
			fieldFieldLabel = "Text"
		);
	}

	@priority = "4"
	test EditListRecordViaRecordView {
		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(ddlDataDefinitionName = "Data Definition Name");

		DynamicDataMapping.addField(
			field = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		DDLDataDefinition.save();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.addViaDDLDisplayPG(ddlListName = "List Name");

		DDLDataDefinition.selectViaDDLDisplayPG(
			ddlDataDefinitionName = "Data Definition Name"
		);

		DDLList.saveViaDDLDisplayPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG(
			ddlDataDefinitionName = "Data Definition Name",
			ddlListName = "List Name"
		);

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		PortletEntry.publish();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.editViaRecordViewPG(ddlListName = "List Name");

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "Text Edit",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		PortletEntry.publish();

		DDLRecord.viewViaDDLDisplayPG(
			ddlListName = "List Name",
			ddlRecordFieldData = "Text Edit",
			field = "Text",
			fieldFieldLabel = "Text"
		);
	}

	@priority = "4"
	test SearchDynamicDataListsRecords {
		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(ddlDataDefinitionName = "Data Definition Name");

		DynamicDataMapping.addField(
			field = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		DynamicDataMapping.addField(
			field = "Number",
			fieldFieldLabel = "Number",
			fieldName = "Number"
		);

		DDLDataDefinition.save();

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLList.addCP(
			ddlListDescription = "DDL List Description",
			ddlListName = "DDL List Name"
		);

		DDLDataDefinition.selectCP(ddlDataDefinitionName = "Data Definition Name");

		DDLDataDefinition.save();

		DDLRecord.addCP(
			ddlDataDefinitionName = "Data Definition Name",
			ddlListName = "DDL List Name"
		);

		DDLRecord.populateFieldNumber(ddlRecordFieldData = "123", fieldName = "Number");

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "Record Text",
			fieldName = "Text"
		);

		PortletEntry.publish();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.selectViaDDLDisplayPG(ddlListName = "DDL List Name");

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		SearchPortlets.searchEmbedded(searchTerm = "Record Text");

		SearchResultPortlet.viewSearchResults(
			searchAssetTitle = "New Data Definition Name for List: DDL List Name",
			searchAssetType = "Dynamic Data Lists Record"
		);

		SearchPortlets.gotoResultDetails(
			searchAssetTitle = "New Data Definition Name for List: DDL List Name"
		);

		DDLRecord.viewFirstRecordSearchResult(
			ddlListName = "DDL List Name",
			ddlRecordFieldData = "Record Text",
			field = "Text"
		);

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		SearchPortlets.searchEmbedded(searchTerm = "123");

		SearchResultPortlet.viewSearchResults(
			searchAssetTitle = "New Data Definition Name for List: DDL List Name",
			searchAssetType = "Dynamic Data Lists Record"
		);

		SearchPortlets.gotoResultDetails(
			searchAssetTitle = "New Data Definition Name for List: DDL List Name"
		);

		DDLRecord.viewSecondRecordSearchResult(
			ddlListName = "DDL List Name",
			ddlRecordFieldData = "123",
			field = "Number"
		);
	}

	@priority = "4"
	test SearchDynamicDataListsRecordsAsUserWithNoPermissions {
		ProductMenu.gotoPortlet(
			category = "Users",
			panel = "Control Panel",
			portlet = "Roles"
		);

		Role.add(roleTitle = "No Permissions Role");

		ProductMenu.gotoPortlet(
			category = "Users",
			panel = "Control Panel",
			portlet = "Users and Organizations"
		);

		User.addCP(
			userEmailAddress = "user@liferay.com",
			userFirstName = "userfn",
			userLastName = "userln",
			userScreenName = "usersn"
		);

		ProductMenu.gotoPortlet(
			category = "Users",
			panel = "Control Panel",
			portlet = "Users and Organizations"
		);

		User.editPasswordCP(
			userEmailAddress = "user@liferay.com",
			userScreenName = "usersn"
		);

		ProductMenu.gotoPortlet(
			category = "Users",
			panel = "Control Panel",
			portlet = "Users and Organizations"
		);

		User.assignRegularRoleCP(
			roleTitle = "No Permissions Role",
			userScreenName = "usersn"
		);

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(ddlDataDefinitionName = "Data Definition Name");

		DynamicDataMapping.addField(
			field = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		DDLDataDefinition.save();

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLList.addCP(
			ddlListDescription = "DDL List Description",
			ddlListName = "DDL List Name"
		);

		DDLDataDefinition.selectCP(ddlDataDefinitionName = "Data Definition Name");

		DDLDataDefinition.save();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLList.editPermissions(ddlListName = "DDL List Name");

		Role.removePermissionPG(
			permissionDefinitionKey = "CONTENT_PERMISSIONS_VIEW_CHECKBOX",
			roleTitle = "Guest"
		);

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLRecord.addCP(
			ddlDataDefinitionName = "Data Definition Name",
			ddlListName = "DDL List Name"
		);

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "Record Text",
			fieldName = "Text"
		);

		PortletEntry.publish();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.selectViaDDLDisplayPG(ddlListName = "DDL List Name");

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		SearchPortlets.searchEmbedded(searchTerm = "Record Text");

		SearchResultPortlet.viewSearchResults(
			searchAssetTitle = "New Data Definition Name for List: DDL List Name",
			searchAssetType = "Dynamic Data Lists Record"
		);

		SearchPortlets.gotoResultDetails(
			searchAssetTitle = "New Data Definition Name for List: DDL List Name"
		);

		DDLRecord.viewFirstRecordSearchResult(
			ddlListName = "DDL List Name",
			ddlRecordFieldData = "Record Text",
			field = "Text"
		);

		User.logoutAndLoginPG(
			userLoginEmailAddress = "user@liferay.com",
			userLoginFullName = "userfn userln"
		);

		SearchPortlets.searchEmbedded(searchTerm = "Record Text");

		SearchPortlets.viewSearchResultWithNoPermissions(searchTerm = "Record Text");
	}

	@priority = "4"
	test SelectList {
		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(ddlDataDefinitionName = "Data Definition Name");

		DynamicDataMapping.addField(
			field = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		DDLDataDefinition.save();

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLList.addCP(ddlListName = "List Name");

		DDLDataDefinition.selectCP(ddlDataDefinitionName = "Data Definition Name");

		DDLDataDefinition.save();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.selectViaDDLDisplayPG(ddlListName = "List Name");

		DDLList.viewViaDDLDisplayPG(ddlListName = "List Name");
	}

	@priority = "3"
	test SwitchListsViaDDLDisplayAndAssertEditableStillChecked {
		DDLList.addViaDDLDisplayPG(ddlListName = "List 1 Name");

		DDLDataDefinition.selectViaDDLDisplayPG(ddlDataDefinitionName = "To Do");

		DDLList.saveViaDDLDisplayPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLDisplayPortlet.viewAddToolbar(ddlDataDefinitionName = "To Do");

		DDLList.addViaDDLDisplayPG(ddlListName = "List 2 Name");

		DDLDataDefinition.selectViaDDLDisplayPG(
			ddlDataDefinitionName = "Meeting Minutes"
		);

		DDLList.saveViaDDLDisplayPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.selectViaDDLDisplayPG(ddlListName = "List 2 Name");

		DDLNavigator.gotoOptionalConfiguration();

		FormFields.viewCheckboxChecked(fieldName = "editable");
	}

	@priority = "3"
	test ViewBooleanFieldPredefinedValue {
		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(
			ddlDataDefinitionName = "Boolean Predefined Value Data Definition Name"
		);

		DynamicDataMapping.addField(
			field = "Boolean",
			fieldFieldLabel = "Boolean",
			fieldName = "Boolean"
		);

		DynamicDataMapping.editFieldPredefinedValue(
			field = "Boolean",
			fieldFieldLabel = "Boolean",
			fieldName = "Boolean",
			fieldPredefinedValue = "Yes"
		);

		DDLDataDefinition.save();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.addViaDDLDisplayPG(ddlListName = "List Name");

		DDLDataDefinition.selectViaDDLDisplayPG(
			ddlDataDefinitionName = "Boolean Predefined Value Data Definition Name"
		);

		DDLList.saveViaDDLDisplayPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG(
			ddlDataDefinitionName = "Boolean Predefined Value Data Definition Name",
			ddlListName = "List Name"
		);

		DDLRecord.viewFieldPredefinedValue(
			field = "Boolean",
			fieldFieldLabel = "Boolean",
			fieldName = "Boolean",
			fieldPredefinedValue = "Yes"
		);

		PortletEntry.publish();

		DDLRecord.viewViaDDLDisplayPG(
			ddlListName = "List Name",
			ddlRecordFieldData = "Yes",
			field = "Boolean",
			fieldFieldLabel = "Boolean"
		);

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG(
			ddlDataDefinitionName = "Boolean Predefined Value Data Definition Name",
			ddlListName = "List Name"
		);

		DDLRecord.viewFieldPredefinedValue(
			field = "Boolean",
			fieldFieldLabel = "Boolean",
			fieldName = "Boolean",
			fieldPredefinedValue = "Yes"
		);

		DDLRecord.populateFieldBoolean(
			ddlRecordFieldData = "No",
			fieldFieldLabel = "Boolean",
			fieldName = "Boolean"
		);

		PortletEntry.publish();

		DDLRecord.viewViaDDLDisplayPG(
			ddlListName = "List Name",
			ddlRecordFieldData = "No",
			field = "Boolean",
			fieldFieldLabel = "Boolean"
		);
	}

	@priority = "3"
	test ViewDateFieldPredefinedValue {
		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(
			ddlDataDefinitionName = "Date Predefined Value Data Definition Name"
		);

		DynamicDataMapping.addField(
			field = "Date",
			fieldFieldLabel = "Date",
			fieldName = "Date"
		);

		DynamicDataMapping.editFieldPredefinedValue(
			field = "Date",
			fieldFieldLabel = "Date",
			fieldName = "Date",
			fieldPredefinedValue = "09/01/2017",
			fieldPredefinedValueDay = "1",
			fieldPredefinedValueMonth = "September",
			fieldPredefinedValueYear = "2017"
		);

		DDLDataDefinition.save();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.addViaDDLDisplayPG(ddlListName = "List Name");

		DDLDataDefinition.selectViaDDLDisplayPG(
			ddlDataDefinitionName = "Date Predefined Value Data Definition Name"
		);

		DDLList.saveViaDDLDisplayPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG(
			ddlDataDefinitionName = "Date Predefined Value Data Definition Name",
			ddlListName = "List Name"
		);

		DDLRecord.viewFieldPredefinedValue(
			field = "Date",
			fieldFieldLabel = "Date",
			fieldName = "Date",
			fieldPredefinedValue = "09/01/2017"
		);

		PortletEntry.publish();

		DDLRecord.viewViaDDLDisplayPG(
			ddlListName = "List Name",
			ddlRecordFieldData = "9/1/17",
			field = "Date",
			fieldFieldLabel = "Date"
		);

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG(
			ddlDataDefinitionName = "Date Predefined Value Data Definition Name",
			ddlListName = "List Name"
		);

		DDLRecord.viewFieldPredefinedValue(
			field = "Date",
			fieldFieldLabel = "Date",
			fieldName = "Date",
			fieldPredefinedValue = "09/01/2017"
		);

		DDLRecord.populateFieldDate(
			ddlRecordFieldData = "05/13/2017",
			fieldFieldLabel = "Date",
			fieldName = "Date"
		);

		PortletEntry.publish();

		DDLRecord.viewViaDDLDisplayPG(
			ddlListName = "List Name",
			ddlRecordFieldData = "5/13/17",
			field = "Date",
			fieldFieldLabel = "Date"
		);
	}

	@priority = "3"
	test ViewDecimalFieldPredefinedValue {
		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(
			ddlDataDefinitionName = "Decimal Predefined Value Data Definition Name"
		);

		DynamicDataMapping.addField(
			field = "Decimal",
			fieldFieldLabel = "Decimal",
			fieldName = "Decimal"
		);

		DynamicDataMapping.editFieldPredefinedValue(
			field = "Decimal",
			fieldFieldLabel = "Decimal",
			fieldName = "Decimal",
			fieldPredefinedValue = "30.09"
		);

		DDLDataDefinition.save();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.addViaDDLDisplayPG(ddlListName = "List Name");

		DDLDataDefinition.selectViaDDLDisplayPG(
			ddlDataDefinitionName = "Decimal Predefined Value Data Definition Name"
		);

		DDLList.saveViaDDLDisplayPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG(
			ddlDataDefinitionName = "Decimal Predefined Value Data Definition Name",
			ddlListName = "List Name"
		);

		DDLRecord.viewFieldPredefinedValue(
			field = "Decimal",
			fieldFieldLabel = "Decimal",
			fieldName = "Decimal",
			fieldPredefinedValue = "30.09"
		);

		PortletEntry.publish();

		DDLRecord.viewViaDDLDisplayPG(
			ddlListName = "List Name",
			ddlRecordFieldData = "30.09",
			field = "Decimal",
			fieldFieldLabel = "Decimal"
		);

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG(
			ddlDataDefinitionName = "Decimal Predefined Value Data Definition Name",
			ddlListName = "List Name"
		);

		DDLRecord.viewFieldPredefinedValue(
			field = "Decimal",
			fieldFieldLabel = "Decimal",
			fieldName = "Decimal",
			fieldPredefinedValue = "30.09"
		);

		DDLRecord.populateFieldDecimal(
			ddlRecordFieldData = "11.18",
			fieldFieldLabel = "Decimal",
			fieldName = "Decimal"
		);

		PortletEntry.publish();

		DDLRecord.viewViaDDLDisplayPG(
			ddlListName = "List Name",
			ddlRecordFieldData = "11.18",
			field = "Decimal",
			fieldFieldLabel = "Decimal"
		);
	}

	@priority = "4"
	test ViewDefaultGuestViewPermissions {
		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(
			ddlDataDefinitionDescription = "Data Definition Description",
			ddlDataDefinitionName = "Data Definition"
		);

		DynamicDataMapping.addField(
			field = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		DDLDataDefinition.save();

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLNavigator.gotoDataDefinitionPermissions(
			ddlDataDefinitionName = "Data Definition"
		);

		DDLDataDefinition.editPermissionsCP(
			addOrRemoveViewPermission = "Add",
			roleList = "Guest"
		);

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.addViaDDLDisplayPG(
			ddlListDescription = "List Description",
			ddlListName = "List Name"
		);

		DDLDataDefinition.selectViaDDLDisplayPG(
			ddlDataDefinitionName = "Data Definition"
		);

		DDLList.saveViaDDLDisplayPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG(
			ddlDataDefinitionName = "Data Definition",
			ddlListName = "List Name"
		);

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		PortletEntry.publish();

		User.logoutPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.viewViaDDLDisplayPG(
			ddlListName = "List Name",
			ddlRecordFieldData = "Text",
			ddlRecordFieldDataTableDisplay = "Text",
			field = "Text",
			fieldFieldLabel = "Text",
			userRole = "Guest"
		);
	}

	@priority = "3"
	test ViewIntegerFieldPredefinedValue {
		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(
			ddlDataDefinitionName = "Integer Predefined Value Data Definition Name"
		);

		DynamicDataMapping.addField(
			field = "Integer",
			fieldFieldLabel = "Integer",
			fieldName = "Integer"
		);

		DynamicDataMapping.editFieldPredefinedValue(
			field = "Integer",
			fieldFieldLabel = "Integer",
			fieldName = "Integer",
			fieldPredefinedValue = "5678"
		);

		DDLDataDefinition.save();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.addViaDDLDisplayPG(ddlListName = "List Name");

		DDLDataDefinition.selectViaDDLDisplayPG(
			ddlDataDefinitionName = "Integer Predefined Value Data Definition Name"
		);

		DDLList.saveViaDDLDisplayPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG(
			ddlDataDefinitionName = "Integer Predefined Value Data Definition Name",
			ddlListName = "List Name"
		);

		DDLRecord.viewFieldPredefinedValue(
			field = "Integer",
			fieldFieldLabel = "Integer",
			fieldName = "Integer",
			fieldPredefinedValue = "5678"
		);

		PortletEntry.publish();

		DDLRecord.viewViaDDLDisplayPG(
			ddlListName = "List Name",
			ddlRecordFieldData = "5678",
			ddlRecordFieldDataTableDisplay = "5,678",
			field = "Integer",
			fieldFieldLabel = "Integer"
		);

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG(
			ddlDataDefinitionName = "Integer Predefined Value Data Definition Name",
			ddlListName = "List Name"
		);

		DDLRecord.viewFieldPredefinedValue(
			field = "Integer",
			fieldFieldLabel = "Integer",
			fieldName = "Integer",
			fieldPredefinedValue = "5678"
		);

		DDLRecord.populateFieldInteger(
			ddlRecordFieldData = "4421",
			fieldFieldLabel = "Integer",
			fieldName = "Integer"
		);

		PortletEntry.publish();

		DDLRecord.viewViaDDLDisplayPG(
			ddlListName = "List Name",
			ddlRecordFieldData = "4421",
			ddlRecordFieldDataTableDisplay = "4,421",
			field = "Integer",
			fieldFieldLabel = "Integer"
		);
	}

	@priority = "3"
	test ViewListRecordAndAssertAnchorLink {
		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(ddlDataDefinitionName = "Data Definition Name");

		DynamicDataMapping.addField(
			field = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		DDLDataDefinition.save();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.addViaDDLDisplayPG(ddlListName = "List Name");

		DDLDataDefinition.selectViaDDLDisplayPG(
			ddlDataDefinitionName = "Data Definition Name"
		);

		DDLList.saveViaDDLDisplayPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG(
			ddlDataDefinitionName = "Data Definition Name",
			ddlListName = "List Name"
		);

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		PortletEntry.publish();

		DDLRecord.viewViaAnchorLink(
			ddlRecordFieldData = "Text",
			fieldFieldLabel = "Text"
		);
	}

	@priority = "5"
	test ViewListRecordWithUploadedFreeMarkerDisplayTemplate {
		property custom.properties = "freemarker.engine.restricted.variables=${line.separator}restricted.variables=";
		property portal.acceptance = "true";
		property testray.component.names = "Training";

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(ddlDataDefinitionName = "Data Definition");

		DynamicDataMapping.addField(
			field = "Text",
			fieldFieldLabel = "Name",
			fieldName = "Name"
		);

		DDLDataDefinition.save();

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLTemplate.addDisplayTemplateCP(
			ddlDataDefinitionName = "Data Definition",
			ddlDisplayTemplateLanguage = "FreeMarker (.ftl)",
			ddlDisplayTemplateName = "Data Definition FreeMarker Display Template Name",
			ddlDisplayTemplateScriptFile = "ddl_template_freemarker_1.ftl"
		);

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLList.addCP(ddlListName = "List Name");

		DDLDataDefinition.selectCP(ddlDataDefinitionName = "Data Definition");

		DDLDataDefinition.save();

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLRecord.addCP(
			ddlDataDefinitionName = "Data Definition",
			ddlListName = "List Name"
		);

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "Name1",
			fieldFieldLabel = "Name",
			fieldName = "Name"
		);

		PortletEntry.publish();

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLRecord.addCP(
			ddlDataDefinitionName = "Data Definition",
			ddlListName = "List Name"
		);

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "Name2",
			fieldFieldLabel = "Name",
			fieldName = "Name"
		);

		PortletEntry.publish();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.selectViaDDLDisplayPG(ddlListName = "List Name");

		DDLTemplate.selectDisplayTemplateViaDDLDisplayPG(
			ddlDisplayTemplateName = "Data Definition FreeMarker Display Template Name"
		);

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLDisplayPortlet.viewDDLTemplateRecordFieldData(ddlRecordFieldData = "Name1");

		DDLDisplayPortlet.viewDDLTemplateRecordFieldData(ddlRecordFieldData = "Name2");
	}

	@priority = "3"
	test ViewListRecordWithUploadedVelocityDisplayTemplate {
		property custom.properties = "freemarker.engine.restricted.variables=${line.separator}restricted.variables=";

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(ddlDataDefinitionName = "Data Definition");

		DynamicDataMapping.addField(
			field = "Text",
			fieldFieldLabel = "Name",
			fieldName = "Name"
		);

		DDLDataDefinition.save();

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLTemplate.addDisplayTemplateCP(
			ddlDataDefinitionName = "Data Definition",
			ddlDisplayTemplateLanguage = "Velocity (.vm)",
			ddlDisplayTemplateName = "Data Definition Velocity Display Template Name",
			ddlDisplayTemplateScriptFile = "ddl_template_velocity_1.vm"
		);

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLList.addCP(ddlListName = "List Name");

		DDLDataDefinition.selectCP(ddlDataDefinitionName = "Data Definition");

		DDLDataDefinition.save();

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLRecord.addCP(
			ddlDataDefinitionName = "Data Definition",
			ddlListName = "List Name"
		);

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "Name1",
			fieldFieldLabel = "Name",
			fieldName = "Name"
		);

		PortletEntry.publish();

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLRecord.addCP(
			ddlDataDefinitionName = "Data Definition",
			ddlListName = "List Name"
		);

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "Name2",
			fieldFieldLabel = "Name",
			fieldName = "Name"
		);

		PortletEntry.publish();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.selectViaDDLDisplayPG(ddlListName = "List Name");

		DDLTemplate.selectDisplayTemplateViaDDLDisplayPG(
			ddlDisplayTemplateName = "Data Definition Velocity Display Template Name"
		);

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		AssertTextEquals(
			locator1 = "xPath=(//div[@class='ddl-record'])[1]",
			value1 = "Name1"
		);

		AssertTextEquals(
			locator1 = "xPath=(//div[@class='ddl-record'])[2]",
			value1 = "Name2"
		);
	}

	@priority = "4"
	test ViewListRecordWithVelocityDisplayTemplate {
		property custom.properties = "freemarker.engine.restricted.variables=${line.separator}restricted.variables=";

		var ddlDisplayTemplateScript = '''
				#set ($records = $ddlDisplayTemplateHelper.getRecords($reserved_record_set_id))${line.separator}${line.separator}

				#if (!$records.isEmpty())${line.separator}
					#foreach ($cur_record in $records)${line.separator}

						<div class="ddl-record">$ddlDisplayTemplateHelper.renderRecordFieldValue($cur_record.getDDMFormFieldValues("Name").get(0), $locale)</div>${line.separator}

					#end${line.separator}
				#end${line.separator}
			''';

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(
			ddlDataDefinitionDescription = "Data Definition Description",
			ddlDataDefinitionName = "Data Definition"
		);

		DynamicDataMapping.addField(
			field = "Text",
			fieldFieldLabel = "Name",
			fieldName = "Name"
		);

		DDLDataDefinition.save();

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLTemplate.addDisplayTemplateCP(
			ddlDataDefinitionDescription = "Data Definition Description",
			ddlDataDefinitionName = "Data Definition",
			ddlDisplayTemplateLanguage = "Velocity (.vm)",
			ddlDisplayTemplateName = "Data Definition Velocity Display Template Name",
			ddlDisplayTemplateScript = "${ddlDisplayTemplateScript}"
		);

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLList.addCP(
			ddlListDescription = "List Description",
			ddlListName = "List Name"
		);

		DDLDataDefinition.selectCP(ddlDataDefinitionName = "Data Definition");

		DDLDataDefinition.save();

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLRecord.addCP(
			ddlDataDefinitionName = "Data Definition",
			ddlListName = "List Name"
		);

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "Name1",
			fieldFieldLabel = "Name",
			fieldName = "Name"
		);

		PortletEntry.publish();

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLRecord.addCP(
			ddlDataDefinitionName = "Data Definition",
			ddlListName = "List Name"
		);

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "Name2",
			fieldFieldLabel = "Name",
			fieldName = "Name"
		);

		PortletEntry.publish();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.selectViaDDLDisplayPG(ddlListName = "List Name");

		DDLTemplate.selectDisplayTemplateViaDDLDisplayPG(
			ddlDisplayTemplateName = "Data Definition Velocity Display Template Name"
		);

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		AssertTextPresent(
			locator1 = "//div[@class='portlet-body']/form",
			value1 = "Name1"
		);

		AssertTextPresent(
			locator1 = "//div[@class='portlet-body']/form",
			value1 = "Name2"
		);
	}

	@priority = "3"
	test ViewNumberFieldPredefinedValue {
		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(
			ddlDataDefinitionName = "Number Predefined Value Data Definition Name"
		);

		DynamicDataMapping.addField(
			field = "Number",
			fieldFieldLabel = "Number",
			fieldName = "Number"
		);

		DynamicDataMapping.editFieldPredefinedValue(
			field = "Number",
			fieldFieldLabel = "Number",
			fieldName = "Number",
			fieldPredefinedValue = "9011"
		);

		DDLDataDefinition.save();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.addViaDDLDisplayPG(ddlListName = "List Name");

		DDLDataDefinition.selectViaDDLDisplayPG(
			ddlDataDefinitionName = "Number Predefined Value Data Definition Name"
		);

		DDLList.saveViaDDLDisplayPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG(
			ddlDataDefinitionName = "Number Predefined Value Data Definition Name",
			ddlListName = "List Name"
		);

		DDLRecord.viewFieldPredefinedValue(
			field = "Number",
			fieldFieldLabel = "Number",
			fieldName = "Number",
			fieldPredefinedValue = "9011"
		);

		PortletEntry.publish();

		DDLRecord.viewViaDDLDisplayPG(
			ddlListName = "List Name",
			ddlRecordFieldData = "9011",
			ddlRecordFieldDataTableDisplay = "9,011",
			field = "Number",
			fieldFieldLabel = "Number"
		);

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG(
			ddlDataDefinitionName = "Number Predefined Value Data Definition Name",
			ddlListName = "List Name"
		);

		DDLRecord.viewFieldPredefinedValue(
			field = "Number",
			fieldFieldLabel = "Number",
			fieldName = "Number",
			fieldPredefinedValue = "9011"
		);

		DDLRecord.populateFieldNumber(
			ddlRecordFieldData = "5553",
			fieldFieldLabel = "Number",
			fieldName = "Number"
		);

		PortletEntry.publish();

		DDLRecord.viewViaDDLDisplayPG(
			ddlListName = "List Name",
			ddlRecordFieldData = "5553",
			ddlRecordFieldDataTableDisplay = "5,553",
			field = "Number",
			fieldFieldLabel = "Number"
		);
	}

	@description = "This is a use case for LPS-59146."
	@priority = "4"
	test ViewPortletWithSpreadsheetViewDisabled {
		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.addViaDDLDisplayPG(ddlListName = "List Name");

		DDLDataDefinition.selectViaDDLDisplayPG(ddlDataDefinitionName = "To Do");

		DDLList.saveViaDDLDisplayPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLDisplayPortlet.configureListViewPG(
			configureCheckBoxName = "TEMPLATES_SPREADSHEET_VIEW_CHECKBOX",
			configureChecked = "true",
			ddlListName = "List Name"
		);

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLDisplayPortlet.viewSpreadsheetContainer();

		DDLDisplayPortlet.configureListViewPG(
			configureCheckBoxName = "TEMPLATES_SPREADSHEET_VIEW_CHECKBOX",
			configureChecked = "false",
			ddlListName = "List Name"
		);

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.viewNoRecords();
	}

	@priority = "3"
	test ViewTextBoxFieldPredefinedValue {
		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(
			ddlDataDefinitionName = "Text Box Predefined Value Data Definition Name"
		);

		DynamicDataMapping.addField(
			field = "Text Box",
			fieldFieldLabel = "Text Box",
			fieldName = "TextBox"
		);

		DynamicDataMapping.editFieldPredefinedValue(
			field = "Text Box",
			fieldFieldLabel = "Text Box",
			fieldName = "TextBox",
			fieldPredefinedValue = "Test 1"
		);

		DDLDataDefinition.save();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.addViaDDLDisplayPG(ddlListName = "List Name");

		DDLDataDefinition.selectViaDDLDisplayPG(
			ddlDataDefinitionName = "Text Box Predefined Value Data Definition Name"
		);

		DDLList.saveViaDDLDisplayPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG(
			ddlDataDefinitionName = "Text Box Predefined Value Data Definition Name",
			ddlListName = "List Name"
		);

		DDLRecord.viewFieldPredefinedValue(
			field = "Text Box",
			fieldFieldLabel = "Text Box",
			fieldName = "TextBox",
			fieldPredefinedValue = "Test 1"
		);

		PortletEntry.publish();

		DDLRecord.viewViaDDLDisplayPG(
			ddlListName = "List Name",
			ddlRecordFieldData = "Test 1",
			field = "Text Box",
			fieldFieldLabel = "Text Box"
		);

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG(
			ddlDataDefinitionName = "Text Box Predefined Value Data Definition Name",
			ddlListName = "List Name"
		);

		DDLRecord.viewFieldPredefinedValue(
			field = "Text Box",
			fieldFieldLabel = "Text Box",
			fieldName = "TextBox",
			fieldPredefinedValue = "Test 1"
		);

		DDLRecord.populateFieldTextBox(
			ddlRecordFieldData = "Test 2",
			fieldFieldLabel = "Text Box",
			fieldName = "TextBox"
		);

		PortletEntry.publish();

		DDLRecord.viewViaDDLDisplayPG(
			ddlListName = "List Name",
			ddlRecordFieldData = "Test 2",
			field = "Text Box",
			fieldFieldLabel = "Text Box"
		);
	}

	@priority = "4"
	test ViewTextFieldPredefinedValue {
		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Dynamic Data Lists"
		);

		DDLDataDefinition.addCP(
			ddlDataDefinitionName = "Text Predefined Value Data Definition Name"
		);

		DynamicDataMapping.addField(
			field = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		DynamicDataMapping.editFieldPredefinedValue(
			field = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text",
			fieldPredefinedValue = "(Enter Text Here)"
		);

		DDLDataDefinition.save();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLList.addViaDDLDisplayPG(ddlListName = "List Name");

		DDLDataDefinition.selectViaDDLDisplayPG(
			ddlDataDefinitionName = "Text Predefined Value Data Definition Name"
		);

		DDLList.saveViaDDLDisplayPG();

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG(
			ddlDataDefinitionName = "Text Predefined Value Data Definition Name",
			ddlListName = "List Name"
		);

		DDLRecord.viewFieldPredefinedValue(
			field = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text",
			fieldPredefinedValue = "(Enter Text Here)"
		);

		PortletEntry.publish();

		DDLRecord.viewViaDDLDisplayPG(
			ddlListName = "List Name",
			ddlRecordFieldData = "(Enter Text Here)",
			field = "Text",
			fieldFieldLabel = "Text"
		);

		Navigator.gotoPage(pageName = "Dynamic Data Lists Display Page");

		DDLRecord.addViaDDLDisplayPG(
			ddlDataDefinitionName = "Text Predefined Value Data Definition Name",
			ddlListName = "List Name"
		);

		DDLRecord.viewFieldPredefinedValue(
			field = "Text",
			fieldFieldLabel = "Text",
			fieldName = "Text",
			fieldPredefinedValue = "(Enter Text Here)"
		);

		DDLRecord.populateFieldText(
			ddlRecordFieldData = "QA Department",
			fieldFieldLabel = "Text",
			fieldName = "Text"
		);

		PortletEntry.publish();

		DDLRecord.viewViaDDLDisplayPG(
			ddlListName = "List Name",
			ddlRecordFieldData = "QA Department",
			field = "Text",
			fieldFieldLabel = "Text"
		);
	}
}