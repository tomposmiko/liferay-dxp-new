@component-name = "portal-search"
definition {

	property portal.release = "true";
	property portal.suite.search.engine = "solr";
	property portal.upstream = "true";
	property solr.enabled = "true";
	property testray.main.component.name = "Web Search";

	setUp {
		TestCase.setUpPortalInstance();

		User.firstLoginPG();
	}

	tearDown {
		var testPortalInstance = PropsUtil.get("test.portal.instance");

		if (${testPortalInstance} == "true") {
			PortalInstances.tearDownCP();
		}
	}

	test AssertBasicFacetSelection {
		var webContentserviceContext1 = '''{"assetTagNames": ["fruit"]}''';

		JSONWebcontent.addWebContent(
			content = "WC WebContent Content 1",
			groupName = "Guest",
			serviceContext = ${webContentserviceContext1},
			title = "apple");

		ProductMenu.gotoPortlet(
			category = "Content & Data",
			portlet = "Blogs");

		Blogs.addEntry(
			entryContent = "Blog Entry Content",
			entryTitle = "apple");

		Navigator.openURL();

		SearchPortlets.searchEmbedded(searchTerm = "apple");

		Portlet.gotoPortletOptions(
			portletName = "Search Options",
			portletOption = "Configuration");

		SelectFrame(locator1 = "IFrame#CONFIGURATION");

		AssertNotChecked(
			checkboxName = "Basic Facet Selection",
			locator1 = "Checkbox#ANY_CHECKBOX");

		IFrame.closeFrame();

		AssertElementPresent(
			checkboxName = "fruit",
			locator1 = "Checkbox#ANY_CHECKBOX");

		SearchFacetPortlet.checkFacet(facetValueName = "Blogs Entry");

		AssertElementNotPresent(
			checkboxName = "fruit",
			locator1 = "Checkbox#ANY_CHECKBOX");

		Refresh();

		FormFields.viewCheckboxChecked(fieldName = "Blogs Entry");

		AssertElementNotPresent(
			checkboxName = "fruit",
			locator1 = "Checkbox#ANY_CHECKBOX");

		SearchFacetPortlet.uncheckFacet(facetValueName = "Blogs Entry");

		AssertElementPresent(
			checkboxName = "fruit",
			locator1 = "Checkbox#ANY_CHECKBOX");

		SearchPortlets.configureSearchOptions(basicFacetSelection = "true");

		SearchPortlets.searchEmbedded(searchTerm = "apple");

		AssertElementPresent(
			checkboxName = "fruit",
			locator1 = "Checkbox#ANY_CHECKBOX");

		SearchFacetPortlet.checkFacet(facetValueName = "Blogs Entry");

		AssertElementPresent(
			checkboxName = "fruit",
			locator1 = "Checkbox#ANY_CHECKBOX");

		SearchFacetPortlet.checkFacet(facetValueName = "fruit");

		SearchResultPortlet.viewNoSearchResults(searchTerm = "apple");

		Refresh();

		FormFields.viewCheckboxChecked(fieldName = "Blogs Entry");

		FormFields.viewCheckboxChecked(fieldName = "fruit");

		SearchResultPortlet.viewNoSearchResults(searchTerm = "apple");
	}

	@description = "This is a use case for LPS-92008."
	@priority = 3
	test AssertGuestCannotSeeEmptySearchWidgets {
		JSONLayout.addPublicLayout(
			groupName = "Guest",
			layoutName = "Search Page");

		var portalURL = PropsUtil.get("portal.url");

		Navigator.openSpecificURL(url = "${portalURL}/web/guest/search-page");

		SearchPortlets.addWidgets(searchPortletList = "Category Facet,Custom Facet,Custom Filter,Folder Facet,Low Level Search Options,Modified Facet,Search Insights,Search Options,Search Results,Site Facet,Sort,Suggestions,Tag Facet,Type Facet,User Facet,Search Bar");

		var testRunEnvironment = PropsUtil.get("test.run.environment");

		if (${testRunEnvironment} == "EE") {
			Portlet._clickAddPortlet(portletName = "Similar Results");

			AssertElementPresent(
				key_portletName = "Similar Results",
				locator1 = "Portlet#LOADED");

			AssertElementPresent(
				key_portletName = "Similar Results",
				locator1 = "Home#PORTLET");
		}

		User.logoutPG();

		Search.openSearchPage();

		for (var portletName : list "Category Facet,Custom Facet,Custom Filter,Folder Facet,Low Level Search Options,Modified Facet,Search Insights,Search Options,Search Results,Similar Results,Site Facet,Sort,Suggestions,Tag Facet,Type Facet,User Facet") {
			Portlet.viewNoSpecificPG(portletName = ${portletName});
		}

		Navigator.openSpecificURL(url = "${portalURL}/web/guest/search-page");

		for (var portletName : list "Category Facet,Custom Facet,Custom Filter,Folder Facet,Low Level Search Options,Modified Facet,Search Insights,Search Options,Search Results,Similar Results,Site Facet,Sort,Suggestions,Tag Facet,Type Facet,User Facet") {
			Portlet.viewNoSpecificPG(portletName = ${portletName});
		}
	}

	test AssertNonAdminsCannotAddCertainWidgets {
		property custom.properties = "jsonws.web.service.paths.excludes=";

		JSONRole.addRegularRole(
			roleKey = "Can Add Widgets",
			roleTitle = "Can Add Widgets");

		Permissions.definePermissionViaJSONAPI(
			resourceAction = "MANAGE_LAYOUTS",
			resourceName = "com.liferay.portal.kernel.model.Group",
			roleTitle = "Can Add Widgets");

		JSONUser.addUser(
			userEmailAddress = "userea@liferay.com",
			userFirstName = "userfn",
			userLastName = "userln",
			userScreenName = "usersn");

		JSONUser.setFirstPassword(
			agreeToTermsAndAnswerReminderQuery = "true",
			requireReset = "false",
			userEmailAddress = "userea@liferay.com");

		JSONRole.assignRoleToUser(
			roleTitle = "Can Add Widgets",
			userEmailAddress = "userea@liferay.com");

		User.logoutPG();

		User.loginPG(
			password = "test",
			userEmailAddress = "userea@liferay.com");

		UserBar.gotoDropdownItem(dropdownItem = "My Profile");

		Portlet.viewCannotAddPG(portletName = "Low Level Search Options");

		Refresh();

		Portlet.viewCannotAddPG(portletName = "Search Insights");
	}

	@priority = 4
	test SearchUsingCustomFacet {
		JSONWebcontent.addWebContent(
			content = "WC Content",
			groupName = "Guest",
			title = "WebContent Title 1");

		ProductMenu.gotoPortlet(
			category = "Content & Data",
			portlet = "Web Content");

		WebContent.viewVersion(
			version = "1.0",
			webContentTitle = "WebContent Title 1");

		Search.openSearchPage();

		SearchPortlets.addWidgets(searchPortletList = "Custom Facet");

		SearchFacetPortlet.configureCustomFacet(aggregationField = "version");

		SearchPortlets.searchEmbedded(searchTerm = "WebContent");

		SearchResultPortlet.viewSearchResults(
			searchAssetTitle = "WebContent Title 1",
			searchAssetType = "Web Content Article",
			searchTerm = "WebContent");

		AssertElementPresent(
			key_checkboxName = "1.0",
			key_facetClass = "Custom Facet",
			locator1 = "SearchResults#FACET_PORTLET_CHECKBOX_LABEL_SPECIFIC");

		Click(
			key_checkboxName = "1.0",
			key_facetClass = "Custom Facet",
			locator1 = "SearchResults#FACET_PORTLET_CHECKBOX_LABEL_SPECIFIC");

		SearchResultPortlet.viewSearchResults(
			searchAssetTitle = "WebContent Title 1",
			searchAssetType = "Web Content Article",
			searchTerm = "WebContent");

		ProductMenu.gotoPortlet(
			category = "Content & Data",
			portlet = "Web Content");

		WebContentNavigator.gotoEditCP(webContentTitle = "WebContent Title 1");

		WebContent.addCP(webContentTitle = "WebContent Title 1.1");

		PortletEntry.publish();

		WebContent.viewVersion(
			version = "1.1",
			webContentTitle = "WebContent Title 1.1");

		Navigator.openURL();

		SearchPortlets.searchEmbedded(searchTerm = "WebContent");

		SearchResultPortlet.viewSearchResults(
			searchAssetTitle = "WebContent Title 1.1",
			searchAssetType = "Web Content Article",
			searchTerm = "WebContent");

		AssertElementPresent(
			key_checkboxName = "1.1",
			key_facetClass = "Custom Facet",
			locator1 = "SearchResults#FACET_PORTLET_CHECKBOX_LABEL_SPECIFIC");

		Click(
			key_checkboxName = "1.1",
			key_facetClass = "Custom Facet",
			locator1 = "SearchResults#FACET_PORTLET_CHECKBOX_LABEL_SPECIFIC");

		SearchResultPortlet.viewSearchResults(
			searchAssetTitle = "WebContent Title 1.1",
			searchAssetType = "Web Content Article",
			searchTerm = "WebContent");
	}

	test SearchWithModifiedFacet {
		JSONWebcontent.addWebContent(
			content = "WC Content",
			groupName = "Guest",
			title = "WC Title");

		SearchPortlets.searchEmbedded(searchTerm = "WC Title");

		Portlet.gotoPortletOptions(
			portletName = "Modified Facet",
			portletOption = "Configuration");

		SelectFrame(locator1 = "IFrame#CONFIGURATION");

		Click(locator1 = "Button#ADD_ROW");

		Type(
			key_fieldLabel = "Label",
			locator1 = "Search#MODIFIED_FACET_CONFIG_EMPTY_FIELD",
			value1 = "Past 23 Hours");

		Type(
			key_fieldLabel = "Range",
			locator1 = "Search#MODIFIED_FACET_CONFIG_EMPTY_FIELD",
			value1 = "[past-24-hours TO past-hour]");

		PortletEntry.save();

		IFrame.closeFrame();

		// Workaround for LPS-97383

		Refresh();

		AssertTextEquals.assertPartialText(
			locator1 = "Search#MODIFIED_FACET_SELECTION",
			range = "Past 23 Hours",
			value1 = "Past 23 Hours");

		Click(
			locator1 = "Search#MODIFIED_FACET_SELECTION",
			range = "Past 23 Hours");

		SearchResultPortlet.viewNoSearchResults(searchTerm = "WC Title");

		Portlet.gotoPortletOptions(
			portletName = "Modified Facet",
			portletOption = "Configuration");

		SelectFrame(locator1 = "IFrame#CONFIGURATION");

		Click(
			key_rowIndexNumber = 2,
			locator1 = "Button#DELETE_ROW_N");

		PortletEntry.save();

		IFrame.closeFrame();

		// Workaround for LPS-97383

		Refresh();

		AssertElementNotPresent(
			locator1 = "Search#MODIFIED_FACET_SELECTION",
			range = "Past 23 Hours");

		SearchResultPortlet.viewSearchResults(
			searchAssetTitle = "WC Title",
			searchAssetType = "Web Content Article",
			searchTerm = "WC Title");

		Click(
			locator1 = "Search#MODIFIED_FACET_SELECTION",
			range = "Custom Range");

		Click(locator1 = "Search#CUSTOM_RANGE_FROM");

		Click(locator1 = "YUICalendarWidget#NEXT_MONTH_ARROW");

		Click(locator1 = "YUICalendarWidget#NEXT_MONTH_ARROW");

		Click(
			key_day = 1,
			locator1 = "YUICalendarWidget#DATEPICKER_SPECIFIC_DAY");

		AssertElementPresent(locator1 = "Message#ERROR_SELECT_VALID_DATE_RANGE");

		AssertVisible(locator1 = "Button#SEARCH_DISABLED");

		Click(locator1 = "Search#CUSTOM_RANGE_FROM");

		Click(locator1 = "YUICalendarWidget#PREVIOUS_MONTH_ARROW");

		Click(locator1 = "YUICalendarWidget#PREVIOUS_MONTH_ARROW");

		Click(
			key_day = 1,
			locator1 = "YUICalendarWidget#DATEPICKER_SPECIFIC_DAY");

		Click(locator1 = "Button#SEARCH");

		SearchResultPortlet.viewSearchResults(
			searchAssetTitle = "WC Title",
			searchAssetType = "Web Content Article",
			searchTerm = "WC Title");
	}

	@description = "This is a use case for LPS-74299."
	@priority = 3
	test ViewFacetPersistence {
		property test.name.skip.portal.instance = "SolrSearch#ViewFacetPersistence";

		// Workaround for LPS-89026

		ApplicationsMenu.gotoPortlet(
			category = "Configuration",
			panel = "Control Panel",
			portlet = "Search");

		SearchAdministration.executeReindex();

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Site Builder",
			portlet = "Pages");

		PagesAdmin.addPage(pageName = "Search Page");

		Navigator.gotoPage(pageName = "Search Page");

		SearchPortlets.addWidgets(searchPortletList = "Site Facet,Search Results,Search Bar");

		SearchPortlets.configureSearchBarWidget(searchScope = "Everything");

		SearchPortlets.searchWidget(searchTerm = "*");

		SearchResultPortlet.viewSearchResults(
			searchAssetTitle = "Test Test",
			searchAssetType = "User");

		var siteName = TestCase.getSiteName();

		SearchFacetPortlet.checkFacet(facetValueName = ${siteName});

		SearchPortlets.searchWidget(searchTerm = "test");

		SearchResultPortlet.viewSearchResults(
			searchAssetTitle = "Test Test",
			searchAssetType = "User");

		FormFields.viewCheckboxChecked(fieldName = ${siteName});
	}

	@priority = 5
	test ViewMultipleFacetURLs {
		property custom.properties = "jsonws.web.service.paths.excludes=";

		JSONFolder.moveFolderToTrash(
			folderName = "Provided by Liferay",
			groupName = "Guest");

		JSONCategory.addVocabulary(
			groupName = "Guest",
			title = "Fruit Vocabulary");

		var organicCategoryId = JSONCategory.addCategory(
			groupName = "Guest",
			title = "organic",
			vocabularyName = "Fruit Vocabulary");

		JSONWebcontent.addFolder(
			folderName = "WC Folder Name 1",
			groupName = "Guest");

		JSONWebcontent.addWebContent(
			assetCategoryIds = ${organicCategoryId},
			assetTagNames = "ripe",
			content = "WC WebContent Content 1",
			folderName = "WC Folder Name 1",
			groupName = "Guest",
			title = "apple");

		JSONWebcontent.addFolder(
			folderName = "WC Folder Name 2",
			groupName = "Guest");

		JSONWebcontent.addWebContent(
			assetTagNames = "fresh",
			content = "WC WebContent Content 2",
			folderName = "WC Folder Name 2",
			groupName = "Guest",
			title = "orange");

		JSONGroup.addGroup(groupName = "New Site");

		JSONBlog.addEntry(
			assetTagNames = "sweet",
			entryContent = "Apple Blog Entry Content",
			entryTitle = "apple",
			groupName = "New Site");

		JSONUser.addUser(
			userEmailAddress = "userea@liferay.com",
			userFirstName = "userfn",
			userLastName = "userln",
			userScreenName = "usersn");

		JSONUser.setFirstPassword(
			agreeToTermsAndAnswerReminderQuery = "true",
			requireReset = "false",
			userEmailAddress = "userea@liferay.com");

		JSONRole.assignRoleToUser(
			roleTitle = "Administrator",
			userEmailAddress = "userea@liferay.com");

		JSONDocument.addFileWithUploadedFile(
			assetCategoryIds = ${organicCategoryId},
			assetTagNames = "fresh,ripe,test",
			dmDocumentTitle = "banana",
			groupName = "Guest",
			mimeType = "image/jpeg",
			sourceFileName = "Document_1.jpg",
			userEmailAddress = "userea@liferay.com");

		JSONLayout.addPublicLayout(
			groupName = "Guest",
			layoutName = "Search Page");

		for (var portlet : list "Category,Folder,Site,Tag,Type,User") {
			JSONLayout.addWidgetToPublicLayout(
				column = 1,
				groupName = "Guest",
				layoutName = "Search Page",
				widgetName = "${portlet} Facet");
		}

		JSONLayout.addWidgetToPublicLayout(
			column = 2,
			groupName = "Guest",
			layoutName = "Search Page",
			widgetName = "Search Bar");

		JSONLayout.addWidgetToPublicLayout(
			column = 2,
			groupName = "Guest",
			layoutName = "Search Page",
			widgetName = "Search Options");

		JSONLayout.addWidgetToPublicLayout(
			column = 2,
			groupName = "Guest",
			layoutName = "Search Page",
			widgetName = "Search Results");

		Navigator.gotoPage(pageName = "Search Page");

		SearchPortlets.configureSearchBarWidget(searchScope = "Everything");

		SearchPortlets.configureSearchOptions(
			allowEmptySearches = "true",
			basicFacetSelection = "true");

		SearchPortlets.searchWidget(searchTerm = "apple");

		SearchResultPortlet.viewMultipleSearchResults(
			resultsList = "apple/Blogs Entry,apple/Web Content Article",
			searchTerm = "apple");

		SearchResultPortlet.viewMultipleSearchResultsNotPresent(noResultsList = "banana/Document,orange/Web Content Article");

		var testSearchURL = SearchFacetPortlet.checkFacetAndViewURL(
			facetClass = "type",
			facetValueName = "Web Content Article",
			searchPage = "Search Page",
			searchTerm = "apple");

		SearchResultPortlet.viewMultipleSearchResults(
			resultsList = "apple/Web Content Article",
			searchTerm = "apple");

		SearchResultPortlet.viewMultipleSearchResultsNotPresent(noResultsList = "apple/Blogs Entry,banana/Document,orange/Web Content Article");

		var testSearchURL = SearchFacetPortlet.checkFacetAndViewURL(
			facetClass = "type",
			facetValueName = "Blogs Entry",
			searchURL = ${testSearchURL});

		SearchResultPortlet.viewMultipleSearchResults(
			resultsList = "apple/Blogs Entry,apple/Web Content Article",
			searchTerm = "apple");

		SearchResultPortlet.viewMultipleSearchResultsNotPresent(noResultsList = "banana/Document,orange/Web Content Article");

		var testSearchURL = SearchFacetPortlet.uncheckFacetAndViewURL(
			facetClass = "type",
			facetValueName = "Web Content Article",
			searchURL = ${testSearchURL});

		SearchResultPortlet.viewMultipleSearchResults(
			resultsList = "apple/Blogs Entry",
			searchTerm = "apple");

		SearchResultPortlet.viewMultipleSearchResultsNotPresent(noResultsList = "apple/Web Content Article,banana/Document,orange/Web Content Article");

		var testSearchURL = SearchFacetPortlet.clearAllFacetsAndViewURL(searchURL = ${testSearchURL});

		SearchPortlets.searchWidget(searchTerm = "test");

		var testSearchURL = SearchPortlets.getSearchTermURL(
			searchPage = "Search Page",
			searchTerm = "test");

		AssertLocation(value1 = ${testSearchURL});

		SearchResultPortlet.viewMultipleSearchResults(
			resultsList = "apple/Blogs Entry,apple/Web Content Article,banana/Document,orange/Web Content Article",
			searchTerm = "test");

		var testSearchURL = SearchFacetPortlet.checkFacetAndViewURL(
			facetClass = "category",
			facetValue = ${organicCategoryId},
			facetValueName = "organic",
			searchURL = ${testSearchURL});

		SearchResultPortlet.viewMultipleSearchResults(
			resultsList = "apple/Web Content Article,banana/Document",
			searchTerm = "test");

		SearchResultPortlet.viewMultipleSearchResultsNotPresent(noResultsList = "apple/Blogs Entry,orange/Web Content Article");

		var testSearchURL = SearchFacetPortlet.checkFacetAndViewURL(
			facetClass = "user",
			facetValueName = "userfn userln",
			searchURL = ${testSearchURL});

		SearchResultPortlet.viewMultipleSearchResults(
			resultsList = "banana/Document",
			searchTerm = "test");

		SearchResultPortlet.viewMultipleSearchResultsNotPresent(noResultsList = "apple/Blogs Entry,apple/Web Content Article,orange/Web Content Article");

		var testSearchURL = SearchFacetPortlet.uncheckFacetAndViewURL(
			facetClass = "user",
			facetValueName = "userfn userln",
			searchURL = ${testSearchURL});

		SearchResultPortlet.viewMultipleSearchResults(
			resultsList = "apple/Web Content Article,banana/Document",
			searchTerm = "test");

		SearchResultPortlet.viewMultipleSearchResultsNotPresent(noResultsList = "apple/Blogs Entry,orange/Web Content Article");

		var testSearchURL = SearchFacetPortlet.clearAllFacetsAndViewURL(searchURL = ${testSearchURL});

		SearchPortlets.searchWidget(searchTerm = "test");

		var testSearchURL = SearchPortlets.getSearchTermURL(
			searchPage = "Search Page",
			searchTerm = "test");

		var testSearchURL = SearchFacetPortlet.checkFacetAndViewURL(
			facetClass = "tag",
			facetValueName = "sweet",
			searchURL = ${testSearchURL});

		var testSearchURL = SearchFacetPortlet.checkFacetAndViewURL(
			facetClass = "tag",
			facetValueName = "fresh",
			searchURL = ${testSearchURL});

		SearchResultPortlet.viewMultipleSearchResults(
			resultsList = "apple/Blogs Entry,banana/Document,orange/Web Content Article",
			searchTerm = "test");

		SearchResultPortlet.viewMultipleSearchResultsNotPresent(noResultsList = "apple/Web Content Article");

		var liferaySiteId = JSONGroupAPI._getGroupIdByName(
			groupName = "Guest",
			site = "true");
		var siteName = TestCase.getSiteName();

		var testSearchURL = SearchFacetPortlet.checkFacetAndViewURL(
			facetClass = "site",
			facetValue = ${liferaySiteId},
			facetValueName = ${siteName},
			searchURL = ${testSearchURL});
		var newSiteId = JSONGroupAPI._getGroupIdByName(
			groupName = "New Site",
			site = "true");

		var testSearchURL = SearchFacetPortlet.checkFacetAndViewURL(
			facetClass = "site",
			facetValue = ${newSiteId},
			facetValueName = "New Site",
			searchURL = ${testSearchURL});

		SearchResultPortlet.viewMultipleSearchResults(
			resultsList = "apple/Blogs Entry,banana/Document,orange/Web Content Article",
			searchTerm = "test");

		SearchResultPortlet.viewMultipleSearchResultsNotPresent(noResultsList = "apple/Web Content Article");

		var testSearchURL = SearchFacetPortlet.uncheckFacetAndViewURL(
			facetClass = "site",
			facetValue = ${newSiteId},
			facetValueName = "New Site",
			searchURL = ${testSearchURL});

		SearchResultPortlet.viewMultipleSearchResults(
			resultsList = "banana/Document,orange/Web Content Article",
			searchTerm = "test");

		SearchResultPortlet.viewMultipleSearchResultsNotPresent(noResultsList = "apple/Blogs Entry,apple/Web Content Article");

		var webContentFolderId2 = JSONWebcontent.getFolderIdByFolderName(
			folderName = "WC Folder Name 2",
			groupName = "Guest");

		var testSearchURL = SearchFacetPortlet.checkFacetAndViewURL(
			facetClass = "folder",
			facetValue = ${webContentFolderId2},
			facetValueName = "WC Folder Name 2",
			searchURL = ${testSearchURL});

		SearchResultPortlet.viewMultipleSearchResults(
			resultsList = "orange/Web Content Article",
			searchTerm = "test");

		SearchResultPortlet.viewMultipleSearchResultsNotPresent(noResultsList = "apple/Blogs Entry,apple/Web Content Article,banana/Document");

		var testSearchURL = SearchFacetPortlet.checkFacetAndViewURL(
			facetClass = "tag",
			facetValueName = "ripe",
			searchURL = ${testSearchURL});

		SearchResultPortlet.viewMultipleSearchResults(
			resultsList = "orange/Web Content Article",
			searchTerm = "test");

		SearchResultPortlet.viewMultipleSearchResultsNotPresent(noResultsList = "apple/Blogs Entry,apple/Web Content Article,banana/Document");

		var testSearchURL = SearchFacetPortlet.uncheckFacetAndViewURL(
			facetClass = "folder",
			facetValue = ${webContentFolderId2},
			facetValueName = "WC Folder Name 2",
			searchURL = ${testSearchURL});

		var testSearchURL = SearchFacetPortlet.uncheckFacetAndViewURL(
			facetClass = "tag",
			facetValueName = "fresh",
			searchURL = ${testSearchURL});

		SearchResultPortlet.viewMultipleSearchResults(
			resultsList = "apple/Web Content Article,banana/Document",
			searchTerm = "test");

		SearchResultPortlet.viewMultipleSearchResultsNotPresent(noResultsList = "apple/Blogs Entry,orange/Web Content Article");

		var testSearchURL = SearchFacetPortlet.clearAllFacetsAndViewURL(searchURL = ${testSearchURL});

		SearchPortlets.searchWidget(searchTerm = "organic");

		var testSearchURL = SearchPortlets.getSearchTermURL(
			searchPage = "Search Page",
			searchTerm = "organic");

		var testSearchURL = SearchFacetPortlet.checkFacetAndViewURL(
			facetClass = "category",
			facetValue = ${organicCategoryId},
			facetValueName = "organic",
			searchURL = ${testSearchURL});
		var webContentFolderId1 = JSONWebcontent.getFolderIdByFolderName(
			folderName = "WC Folder Name 1",
			groupName = "Guest");

		var testSearchURL = SearchFacetPortlet.checkFacetAndViewURL(
			facetClass = "folder",
			facetValue = ${webContentFolderId1},
			facetValueName = "WC Folder Name 1",
			searchURL = ${testSearchURL});

		var testSearchURL = SearchFacetPortlet.checkFacetAndViewURL(
			facetClass = "site",
			facetValue = ${liferaySiteId},
			facetValueName = ${siteName},
			searchURL = ${testSearchURL});

		var testSearchURL = SearchFacetPortlet.checkFacetAndViewURL(
			facetClass = "tag",
			facetValueName = "ripe",
			searchURL = ${testSearchURL});

		var testSearchURL = SearchFacetPortlet.checkFacetAndViewURL(
			facetClass = "type",
			facetValueName = "Web Content Article",
			searchURL = ${testSearchURL});

		var testSearchURL = SearchFacetPortlet.checkFacetAndViewURL(
			facetClass = "user",
			facetValueName = "test test",
			searchURL = ${testSearchURL});

		SearchResultPortlet.viewMultipleSearchResults(
			resultsList = "apple/Web Content Article",
			searchTerm = "organic");
	}

}