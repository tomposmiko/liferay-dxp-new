task runGradleTest

runGradleTest {
	dependsOn ":sampleThemeCSS:buildClientExtension"
	dependsOn ":sampleThemeFavicon:buildClientExtension"

	doLast {
		Project sampleThemeCSSProject = project(":sampleThemeCSS")

		File distFile = new File(sampleThemeCSSProject.projectDir, "dist/sampleThemecSS.zip")

		assert distFile.exists()

		Project sampleThemeFaviconProject = project(":sampleThemeFavicon")

		File sampleConfigFile = new File(sampleThemeFaviconProject.buildDir, "sampleThemeFavicon.client-extension-config.json")

		assert sampleConfigFile.exists()

		Task createClientExtensionConfigTask = sampleThemeFaviconProject.tasks["createClientExtensionConfig"]

		File clientExtensionYamlFile = sampleThemeFaviconProject.file("client-extension.yaml")

		assert createClientExtensionConfigTask.inputs.files.asPath == clientExtensionYamlFile.path
	}
}